<div class="container d-flex flex-column align-items-center justify-content-center text-center" style="min-height: 80vh;">
  <h2>Conversión de Monedas (USD como base interna)</h2>
  <h3>Ingresa el monto en el campo de la izquierda y selecciona la divisa de origen en la derecha.</h3>

  <div class="my-3">
    <input
      type="number"
      class="form-control d-inline-block text-end"
      style="width: 150px;"
      [(ngModel)]="amount"
      placeholder="Cantidad"
    />

    <select class="form-select d-inline-block" style="width: 150px;" [(ngModel)]="fromCurrency">
      <option *ngFor="let c of currencies" [value]="c">{{ c }}</option>
    </select>
  </div>

  <div class="my-2">
    <span class="fs-3">→</span>
  </div>

  <div class="my-3">
    <div
      class="border d-inline-block p-2 me-2"
      style="min-width: 150px; background-color: #f8f9fa;"
    >
      {{ convertedValue | number:'1.2-4' }}
    </div>

    <select class="form-select d-inline-block" style="width: 150px;" [(ngModel)]="toCurrency">
      <option *ngFor="let c of currencies" [value]="c">{{ c }}</option>
    </select>
  </div>
  <h3>Elige la divisa destino en el selector derecho, haz clic en "Convertir" y visualiza el resultado en la izquierdo. </h3>
  <div class="my-4">
    <button class="btn btn-primary" (click)="convert()">Convertir</button>
  </div>

  <hr style="border: none; height: 1px; background-color: black; width: 100%; margin-bottom: 20px;">

  <div class="container-fluid p-3" style="height: 100vh; overflow-y: auto;">
    <div class="d-flex justify-content-center">
      <div class="w-75">
        <h4 class="text-center mb-4 mt-3">Historial de Conversión</h4>
        <div class="table-responsive">
          <table class="table table-bordered table-hover">
            <thead class="border-bottom">
              <tr class="text-muted text-center">
                <th>Cantidad</th>
                <th>Moneda Origen</th>
                <th>Moneda Destino</th>
                <th>Valor Convertido</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngIf="historial; else noData" class="text-center">
                <td>{{ historial.monto_original }}</td>
                <td>{{ historial.moneda_origen }}</td>
                <td>{{ historial.moneda_destino }}</td>
                <td>{{ historial.monto_convertido }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  
    <ng-template #noData>
      <p class="text-center text-muted mt-3">No hay datos disponibles.</p>
    </ng-template>
  </div>
</div>
